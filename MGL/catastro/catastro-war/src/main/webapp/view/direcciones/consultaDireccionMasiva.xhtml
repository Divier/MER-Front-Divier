<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:uaq="http://mx.edu.uaq/ce/jsf"
                xmlns:c="http://xmlns.jcp.org/jstl/core">
    <ui:composition template="/view/template/home.xhtml">
        <ui:define name="title"><span class="TituloSeccion">Validación Masiva de Direcciones</span></ui:define>
        <ui:define name="content">
            <div id="content"> 
                <a4j:outputPanel id="contentForm"> 
                    <a4j:outputPanel id="processLabel"> 
                        <h:outputText  value="#{consultaDireccionMasivaMBean.observaciones}" styleClass="error"/>
                    </a4j:outputPanel> 
                    <h:form enctype="multipart/form-data"> 
                        <rich:fileUpload addLabel="Agregar" clearAllLabel="Quitar todos" 
                                         clearLabel="Quitar" deleteLabel="Quitar" 
                                         doneLabel="Completado" uploadLabel="Subir archivos" 
                                         fileUploadListener="#{consultaDireccionMasivaMBean.listener}" 
                                         acceptedTypes="txt, csv" 
                                         noDuplicate="true"/> 
                        <a4j:commandButton value="Iniciar validación" styleClass="buttonl" 
                                           action="#{consultaDireccionMasivaMBean.validateLabels}" 
                                           render="contentForm :processLabel">
                        </a4j:commandButton>

                    </h:form> 

                </a4j:outputPanel> 
                <h:commandButton value="Exportar a CSV" id="exportar" 
                                 action="#{consultaMasivaMBean.doExportSelectedDataToCSV}" 
                                 rendered="#{consultaMasivaMBean.showBotonExportar}"
                                 styleClass="buttonl"  style="color:#FFFFFF;"></h:commandButton>
            </div> 
        </ui:define> 
    </ui:composition>
</ui:composition>